{
  "tagging" : {
    "taggable" : true,
    "tagOnCreate" : true,
    "tagUpdatable" : true,
    "tagProperty" : "/properties/Tags",
    "cloudFormationSystemTags" : false
  },
  "handlers" : {
    "read" : {
      "permissions" : [ "sagemaker:DescribeSpace" ]
    },
    "create" : {
      "permissions" : [ "sagemaker:CreateSpace", "sagemaker:DescribeSpace" ]
    },
    "update" : {
      "permissions" : [ "sagemaker:UpdateSpace", "sagemaker:DescribeSpace" ]
    },
    "list" : {
      "permissions" : [ "sagemaker:ListSpaces" ]
    },
    "delete" : {
      "permissions" : [ "sagemaker:DeleteSpace", "sagemaker:DescribeSpace" ]
    }
  },
  "typeName" : "AWS::SageMaker::Space",
  "readOnlyProperties" : [ "/properties/SpaceArn", "/properties/Url" ],
  "description" : "Resource Type definition for AWS::SageMaker::Space",
  "writeOnlyProperties" : [ "/properties/SpaceSettings", "/properties/Tags" ],
  "createOnlyProperties" : [ "/properties/DomainId", "/properties/SpaceName", "/properties/SpaceSharingSettings", "/properties/OwnershipSettings" ],
  "additionalProperties" : false,
  "primaryIdentifier" : [ "/properties/DomainId", "/properties/SpaceName" ],
  "definitions" : {
    "CustomFileSystem" : {
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "EFSFileSystem" : {
          "$ref" : "#/definitions/EFSFileSystem"
        }
      }
    },
    "CodeRepository" : {
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "RepositoryUrl" : {
          "pattern" : "^https://([.\\-_a-zA-Z0-9]+/?){3,1016}$",
          "description" : "A CodeRepository (valid URL) to be used within Jupyter's Git extension.",
          "type" : "string",
          "maxLength" : 256
        }
      },
      "required" : [ "RepositoryUrl" ]
    },
    "KernelGatewayAppSettings" : {
      "description" : "The kernel gateway app settings.",
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "CustomImages" : {
          "minItems" : 0,
          "maxItems" : 30,
          "uniqueItems" : false,
          "description" : "A list of custom SageMaker images that are configured to run as a KernelGateway app.",
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/CustomImage"
          }
        },
        "DefaultResourceSpec" : {
          "description" : "The default instance type and the Amazon Resource Name (ARN) of the default SageMaker image used by the KernelGateway app.",
          "$ref" : "#/definitions/ResourceSpec"
        },
        "LifecycleConfigArns" : {
          "minItems" : 0,
          "maxItems" : 30,
          "uniqueItems" : false,
          "description" : "A list of LifecycleConfigArns available for use with KernelGateway apps.",
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/StudioLifecycleConfigArn"
          }
        }
      }
    },
    "ResourceSpec" : {
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "LifecycleConfigArn" : {
          "pattern" : "arn:aws[a-z\\-]*:sagemaker:[a-z0-9\\-]*:[0-9]{12}:studio-lifecycle-config/.*",
          "description" : "The Amazon Resource Name (ARN) of the Lifecycle Configuration to attach to the Resource.",
          "type" : "string",
          "maxLength" : 256
        },
        "SageMakerImageArn" : {
          "pattern" : "^arn:aws(-[\\w]+)*:sagemaker:.+:[0-9]{12}:image/[a-z0-9]([-.]?[a-z0-9])*$",
          "description" : "The ARN of the SageMaker image that the image version belongs to.",
          "type" : "string",
          "maxLength" : 256
        },
        "InstanceType" : {
          "description" : "The instance type that the image version runs on.",
          "type" : "string",
          "enum" : [ "system", "ml.t3.micro", "ml.t3.small", "ml.t3.medium", "ml.t3.large", "ml.t3.xlarge", "ml.t3.2xlarge", "ml.m5.large", "ml.m5.xlarge", "ml.m5.2xlarge", "ml.m5.4xlarge", "ml.m5.8xlarge", "ml.m5.12xlarge", "ml.m5.16xlarge", "ml.m5.24xlarge", "ml.c5.large", "ml.c5.xlarge", "ml.c5.2xlarge", "ml.c5.4xlarge", "ml.c5.9xlarge", "ml.c5.12xlarge", "ml.c5.18xlarge", "ml.c5.24xlarge", "ml.p3.2xlarge", "ml.p3.8xlarge", "ml.p3.16xlarge", "ml.g4dn.xlarge", "ml.g4dn.2xlarge", "ml.g4dn.4xlarge", "ml.g4dn.8xlarge", "ml.g4dn.12xlarge", "ml.g4dn.16xlarge", "ml.r5.large", "ml.r5.xlarge", "ml.r5.2xlarge", "ml.r5.4xlarge", "ml.r5.8xlarge", "ml.r5.12xlarge", "ml.r5.16xlarge", "ml.r5.24xlarge", "ml.p3dn.24xlarge", "ml.m5d.large", "ml.m5d.xlarge", "ml.m5d.2xlarge", "ml.m5d.4xlarge", "ml.m5d.8xlarge", "ml.m5d.12xlarge", "ml.m5d.16xlarge", "ml.m5d.24xlarge", "ml.g5.xlarge", "ml.g5.2xlarge", "ml.g5.4xlarge", "ml.g5.8xlarge", "ml.g5.12xlarge", "ml.g5.16xlarge", "ml.g5.24xlarge", "ml.g5.48xlarge", "ml.p4d.24xlarge", "ml.p4de.24xlarge", "ml.geospatial.interactive", "ml.trn1.2xlarge", "ml.trn1.32xlarge", "ml.trn1n.32xlarge" ]
        },
        "SageMakerImageVersionArn" : {
          "pattern" : "^arn:aws(-[\\w]+)*:sagemaker:.+:[0-9]{12}:image-version/[a-z0-9]([-.]?[a-z0-9])*/[0-9]+$",
          "description" : "The ARN of the image version created on the instance.",
          "type" : "string",
          "maxLength" : 256
        }
      }
    },
    "OwnershipSettings" : {
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "OwnerUserProfileName" : {
          "pattern" : "^[a-zA-Z0-9](-*[a-zA-Z0-9]){0,62}",
          "type" : "string",
          "maxLength" : 63
        }
      },
      "required" : [ "OwnerUserProfileName" ]
    },
    "SpaceEbsVolumeSizeInGb" : {
      "maximum" : 16384,
      "type" : "integer",
      "minimum" : 5
    },
    "SpaceSettings" : {
      "description" : "A collection of settings that apply to spaces of Amazon SageMaker Studio. These settings are specified when the CreateSpace API is called.",
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "JupyterLabAppSettings" : {
          "description" : "The JupyterLab app settings.",
          "$ref" : "#/definitions/SpaceJupyterLabAppSettings"
        },
        "KernelGatewayAppSettings" : {
          "description" : "The kernel gateway app settings.",
          "$ref" : "#/definitions/KernelGatewayAppSettings"
        },
        "CodeEditorAppSettings" : {
          "description" : "The CodeEditor app settings.",
          "$ref" : "#/definitions/SpaceCodeEditorAppSettings"
        },
        "JupyterServerAppSettings" : {
          "description" : "The Jupyter server's app settings.",
          "$ref" : "#/definitions/JupyterServerAppSettings"
        },
        "CustomFileSystems" : {
          "$ref" : "#/definitions/CustomFileSystems"
        },
        "AppType" : {
          "$ref" : "#/definitions/AppType"
        },
        "SpaceStorageSettings" : {
          "description" : "Default storage settings for a space.",
          "$ref" : "#/definitions/SpaceStorageSettings"
        }
      }
    },
    "EbsStorageSettings" : {
      "description" : "Properties related to the space's Amazon Elastic Block Store volume.",
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "EbsVolumeSizeInGb" : {
          "description" : "Size of the Amazon EBS volume in Gb",
          "$ref" : "#/definitions/SpaceEbsVolumeSizeInGb"
        }
      },
      "required" : [ "EbsVolumeSizeInGb" ]
    },
    "CustomImage" : {
      "description" : "A custom SageMaker image.",
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "ImageName" : {
          "pattern" : "^[a-zA-Z0-9]([-.]?[a-zA-Z0-9]){0,62}$",
          "description" : "The name of the CustomImage. Must be unique to your account.",
          "type" : "string",
          "maxLength" : 63
        },
        "AppImageConfigName" : {
          "pattern" : "^[a-zA-Z0-9](-*[a-zA-Z0-9]){0,62}",
          "description" : "The Name of the AppImageConfig.",
          "type" : "string",
          "maxLength" : 63
        },
        "ImageVersionNumber" : {
          "description" : "The version number of the CustomImage.",
          "type" : "integer",
          "minimum" : 0
        }
      },
      "required" : [ "AppImageConfigName", "ImageName" ]
    },
    "SpaceCodeEditorAppSettings" : {
      "description" : "The CodeEditor app settings.",
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "DefaultResourceSpec" : {
          "$ref" : "#/definitions/ResourceSpec"
        },
        "AppLifecycleManagement" : {
          "$ref" : "#/definitions/SpaceAppLifecycleManagement"
        }
      }
    },
    "JupyterServerAppSettings" : {
      "description" : "The JupyterServer app settings.",
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "DefaultResourceSpec" : {
          "$ref" : "#/definitions/ResourceSpec"
        },
        "LifecycleConfigArns" : {
          "minItems" : 0,
          "maxItems" : 30,
          "uniqueItems" : false,
          "description" : "A list of LifecycleConfigArns available for use with JupyterServer apps.",
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/StudioLifecycleConfigArn"
          }
        }
      }
    },
    "StudioLifecycleConfigArn" : {
      "pattern" : "arn:aws[a-z\\-]*:sagemaker:[a-z0-9\\-]*:[0-9]{12}:studio-lifecycle-config/.*",
      "description" : "The Amazon Resource Name (ARN) of the Lifecycle Configuration to attach to the Resource.",
      "type" : "string",
      "maxLength" : 256
    },
    "EFSFileSystem" : {
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "FileSystemId" : {
          "minLength" : 11,
          "pattern" : "^(fs-[0-9a-f]{8,})$",
          "type" : "string",
          "maxLength" : 21
        }
      },
      "required" : [ "FileSystemId" ]
    },
    "SpaceJupyterLabAppSettings" : {
      "description" : "The JupyterServer app settings.",
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "DefaultResourceSpec" : {
          "$ref" : "#/definitions/ResourceSpec"
        },
        "CodeRepositories" : {
          "minItems" : 0,
          "maxItems" : 30,
          "uniqueItems" : false,
          "description" : "A list of CodeRepositories available for use with JupyterLab apps.",
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/CodeRepository"
          }
        },
        "AppLifecycleManagement" : {
          "$ref" : "#/definitions/SpaceAppLifecycleManagement"
        }
      }
    },
    "Tag" : {
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "Value" : {
          "minLength" : 1,
          "type" : "string",
          "maxLength" : 128
        },
        "Key" : {
          "minLength" : 1,
          "type" : "string",
          "maxLength" : 128
        }
      },
      "required" : [ "Key", "Value" ]
    },
    "CustomFileSystems" : {
      "minItems" : 0,
      "maxItems" : 1,
      "uniqueItems" : true,
      "type" : "array",
      "items" : {
        "$ref" : "#/definitions/CustomFileSystem"
      }
    },
    "AppType" : {
      "type" : "string",
      "enum" : [ "JupyterServer", "KernelGateway", "TensorBoard", "RStudioServerPro", "RSessionGateway", "JupyterLab", "CodeEditor" ]
    },
    "SpaceSharingSettings" : {
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "SharingType" : {
          "type" : "string",
          "enum" : [ "Private", "Shared" ]
        }
      },
      "required" : [ "SharingType" ]
    },
    "SpaceStorageSettings" : {
      "additionalProperties" : false,
      "type" : "object",
      "properties" : {
        "EbsStorageSettings" : {
          "$ref" : "#/definitions/EbsStorageSettings"
        }
      }
    }
  },
  "required" : [ "DomainId", "SpaceName" ],
  "properties" : {
    "DomainId" : {
      "minLength" : 1,
      "description" : "The ID of the associated Domain.",
      "type" : "string",
      "maxLength" : 63
    },
    "SpaceArn" : {
      "pattern" : "arn:aws[a-z\\-]*:sagemaker:[a-z0-9\\-]*:[0-9]{12}:space/.*",
      "description" : "The space Amazon Resource Name (ARN).",
      "type" : "string",
      "maxLength" : 256
    },
    "SpaceName" : {
      "minLength" : 1,
      "description" : "A name for the Space.",
      "type" : "string",
      "maxLength" : 63
    },
    "SpaceSettings" : {
      "minItems" : 0,
      "maxItems" : 50,
      "uniqueItems" : false,
      "description" : "A collection of settings.",
      "$ref" : "#/definitions/SpaceSettings"
    },
    "SpaceDisplayName" : {
      "pattern" : "^(?!\\s*$).+",
      "type" : "string",
      "maxLength" : 64
    },
    "Tags" : {
      "minItems" : 0,
      "maxItems" : 50,
      "uniqueItems" : false,
      "description" : "A list of tags to apply to the space.",
      "type" : "array",
      "items" : {
        "$ref" : "#/definitions/Tag"
      }
    },
    "SpaceSharingSettings" : {
      "$ref" : "#/definitions/SpaceSharingSettings"
    },
    "Url" : {
      "type" : "string",
      "maxLength" : 1024
    },
    "OwnershipSettings" : {
      "$ref" : "#/definitions/OwnershipSettings"
    }
  }
}